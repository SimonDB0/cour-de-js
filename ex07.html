<!DOCTYPE html>
<html>
<head>
    <title>Exerccie 07</title>
    <style>
        .color{
            color: crimson;
        }
        .hover{
            background: #e5e5e5;
        }
    </style>

</head>
<body>
<h1>Exercice 07</h1>

<div class="content">

    <h2>Hello World</h2>
    <p>
        Lorem ipsum dolor sit amet,consectetur adipiscing elit. Duis ac feugiat diam. Vestibulum eu sapien sed augue sodales interdum. Morbi mi odio, facilisis maximus maximus eget, luctus ut risus. <strong>Phasellus elementum</strong> neque nec efficitur finibus. Donec porta fermentum lorem. Nulla sed aliquam eros. Pellentesque vehicula mollis velit, nec tincidunt magna ullamcorper eget. Quisque nec sollicitudin nunc.
    </p>
    <h2>Chocolat</h2>
    <p>
        Aliquam vitae tempus turpis, rhoncus lacinia tellus. Nunc venenatis, arcu et congue porttitor, ante tellus venenatis tellus, vel commodo dolor mi et massa. <strong>Donec maximus</strong> nisl sed sapien volutpat mollis. Quisque ac nisl consectetur felis faucibus hendrerit at at libero. Praesent nibh elit, varius eget ipsum id, aliquet consequat sapien. Suspendisse quis fringilla sem, sit amet dapibus velit. Aenean et hendrerit neque. Proin nec nisi mi.
    </p>

    <h2>Gauthier</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Illo magni minus molestias obcaecati, quam quasi quia voluptatem. Accusantium adipisci architecto aspernatur blanditiis consequatur dolores, enim exercitationem, ipsam recusandae suscipit velit.</p>

    <h2>Flooooo</h2>
    <p>sergqergqegfqrgqrgrqegqergqegomkqrjgqmzorgn,mqeorgnmqergjlnrgequimbniumnrgqmkjqengrmkjqrgnmqrkrjngqrmlngmlqnglmqnrgmqlkenrgmqjengmkjqrehgoiqjgrùlkqrg,ùp^^rgk,</p>

    <h2>Yann</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias aliquid dicta eaque esse fugit magni, nihil officia, perferendis praesentium quod ratione sint, tempore voluptatum. Architecto asperiores debitis doloribus dolorum eum explicabo hic id iusto nihil, omnis quae ratione tenetur. Ab excepturi ipsam non numquam placeat repudiandae voluptates.</p>

</div>


<script type="text/javascript">

    const content = document.querySelector('.content')
    const paragraphes = content.querySelectorAll('p')

    const subtitle = content.querySelectorAll('h2')
    console.log(subtitle)
    const titlesSaved = []
    subtitle.forEach((h2,index) => {
        titlesSaved.push(h2.innerText)
        h2.style.color = "#0000ff"
        h2.style.paddingLeft="15px"
        h2.setAttribute('id','titre-'+index)
        h2.innerHTML += ` <a href="#titre-${index}">#</a>`
    })

    console.log(titlesSaved)
    //Menu d'ancre

    const menuAncre = document.createElement("div")
    menuAncre.classList.add('anchors')
    menuAncre.style.display="flex"
    menuAncre.style.flexWrap="wrap"
    content.parentNode.insertBefore(menuAncre,content)
    titlesSaved.forEach((title,k) =>{
        console.log(k,title)
        const a = document.createElement('a')
        a.innerHTML = title
        a.setAttribute('href',`#titre-${k}`)
        menuAncre.appendChild(a)
        a.style.padding="30px"
        a.style.background="e5e5e5"
        a.style.borderRadius="5px"
    })




    // const sub = content.querySelector('h3')
    // sub.classList.add("color") // génère une erreur, sub ne contient pas d'élément

    paragraphes.forEach((value,key) => {
        // value.classList.add("color")

        value.onmouseover = ()=>{
            value.classList.add('hover')
        }
        value.onmouseleave = ()=>{
            value.classList.remove('hover')
        }

        value.querySelectorAll('strong').forEach((strong,n) => {
            strong.classList.add("color")
        })
    })

</script>
</body>
</html>